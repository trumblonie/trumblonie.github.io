<!DOCTYPE html>

<html>
<body>

<!--- <script>src="jquery.js"</script> --->
<!--- <script>src="CallTrackingChange.js"</script> --->

<h3>Call Tracking Number Change Testing</h3>
<p>Default Failed : 000.000.0000</p>
<p>Default : 123.123.1234</p>
<p>/?ppc=test1 : 111.111.1111</p>
<p><strong>Changing Number : </strong> 
<a href="tel:0000000000" id="CallNumber">000.000.0000</a>
</p>
<p><strong>var ppc : </strong>
<a id="Hppc"></a>
</p>
<p><strong>url : </strong>
<a id="Hurl"></a>
</p>

<script>
/*
// Read a page's GET URL variables and return them as an associative array. http://jquery-howto.blogspot.com/2009/09/get-url-parameters-values-with-jquery.html
function getUrlVars()
{
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++)
    {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
    }
    return vars;
}

var ppc = getUrlVars()["ppc"];


//JQuery Extension   http://jquery-howto.blogspot.com/2009/09/get-url-parameters-values-with-jquery.html
$.extend({
  getUrlVars: function(){
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++)
    {
      hash = hashes[i].split('=');
      vars.push(hash[0]);
      vars[hash[0]] = hash[1];
    }
    return vars;
  },
  getUrlVar: function(name){
    return $.getUrlVars()[name];
  }
});

var ppc = $.getUrlVar('ppc');
*/


function parseParams(str) {
    return str.split('&').reduce(function (params, param) {
        var paramSplit = param.split('=').map(function (value) {
            return decodeURIComponent(value.replace('+', ' '));
        });
        params[paramSplit[0]] = paramSplit[1];
        return params;
    }, {});
}

//var url = window.location.href;
var ppc = parseParams(window.location.href);


document.getElementById("Hppc").innerHTML = ppc;
document.getElementById("Hurl").innerHTML = window.location.href;


if (ppc === test1){
	document.getElementById("CallNumber").innerHTML = "111.111.1111";
	document.getElementById("CallNumber").href="tel:1111111111";
} else {
	document.getElementById("CallNumber").innerHTML = "123.123.1234";
	document.getElementById("CallNumber").href="tel:1231231234";
}


/*
switch (ppc){
	Case test1:
		document.getElementById("CallNumber").innerHTML = "111.111.1111";
		document.getElementById("CallNumber").href="tel:1111111111";
		break;
	Case Default:
		document.getElementById("CallNumber").innerHTML = "123.123.1234";
		document.getElementById("CallNumber").href="tel:1231231234";
		break;
}
*/
</script>

</body>
</html>